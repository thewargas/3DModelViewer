{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nvar _tslib = require('./_virtual/_tslib.js');\nvar types = require('./types.js');\nvar actionTypes = require('./actionTypes.js');\nvar constants = require('./constants.js');\nvar environment = require('./environment.js');\nvar _a;\nfunction keys(value) {\n  return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = constants.STATE_DELIMITER;\n  }\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n    return false;\n  }\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n  return Object.keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\".concat(event) : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\nfunction getActionType(action) {\n  try {\n    return isString(action) || typeof action === 'number' ? \"\".concat(action) : isFunction(action) ? action.name : action.type;\n  } catch (e) {\n    throw new Error('Actions must be strings or objects with a string action.type property.');\n  }\n}\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n  }\n}\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n  var value = {};\n  var marker = value;\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n  return value;\n}\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = Object.keys(collection);\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n  return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n  var result = {};\n  try {\n    for (var _b = _tslib.__values(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n      if (!predicate(item)) {\n        continue;\n      }\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nvar path = function (props) {\n  return function (object) {\n    var e_2, _a;\n    var result = object;\n    try {\n      for (var props_1 = _tslib.__values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n    var result = object;\n    try {\n      for (var props_2 = _tslib.__values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n    return result;\n  };\n}\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n  var result = flatten(Object.keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\nfunction pathsToStateValue(paths) {\n  var e_4, _a;\n  var result = {};\n  if (paths && paths.length === 1 && paths[0].length === 1) {\n    return paths[0][0];\n  }\n  try {\n    for (var paths_1 = _tslib.__values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n      var currentPath = paths_1_1.value;\n      var marker = result; // tslint:disable-next-line:prefer-for-of\n\n      for (var i = 0; i < currentPath.length; i++) {\n        var subPath = currentPath[i];\n        if (i === currentPath.length - 2) {\n          marker[subPath] = currentPath[i + 1];\n          break;\n        }\n        marker[subPath] = marker[subPath] || {};\n        marker = marker[subPath];\n      }\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n  return result;\n}\nfunction flatten(array) {\n  var _a;\n  return (_a = []).concat.apply(_a, _tslib.__spreadArray([], _tslib.__read(array), false));\n}\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n  return [value];\n}\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n  return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n  var result = {};\n  try {\n    for (var _b = _tslib.__values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n  return result;\n}\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n  return false;\n}\nfunction isBehavior(value) {\n  return value !== null && typeof value === 'object' && 'transition' in value && typeof value.transition === 'function';\n}\nfunction partition(items, predicate) {\n  var e_6, _a;\n  var _b = _tslib.__read([[], []], 2),\n    truthy = _b[0],\n    falsy = _b[1];\n  try {\n    for (var items_1 = _tslib.__values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n  return [truthy, falsy];\n}\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n    if (!subStateValue) {\n      return undefined;\n    }\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\nfunction updateContext(context, _event, assignActions, state) {\n  if (!environment.IS_PRODUCTION) {\n    exports.warn(!!context, 'Attempting to update undefined context');\n  }\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = _tslib.__values(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\nexports.warn = function () {};\nif (!environment.IS_PRODUCTION) {\n  exports.warn = function (condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n    if (!error && condition) {\n      return;\n    }\n    if (console !== undefined) {\n      var args = [\"Warning: \".concat(message)];\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n      console.warn.apply(console, args);\n    }\n  };\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n  if (isString(condition)) {\n    return {\n      type: constants.DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n  if (isFunction(condition)) {\n    return {\n      type: constants.DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n  return condition;\n}\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}(); // TODO: to be removed in v5, left it out just to minimize the scope of the change and maintain compatibility with older versions of integration paackages\n\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function () {\n  return this;\n}, _a[Symbol.observable] = function () {\n  return this;\n}, _a);\nfunction isMachine(value) {\n  return !!value && '__xstatenode' in value;\n}\nfunction isActor(value) {\n  return !!value && typeof value.send === 'function';\n}\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return _tslib.__assign({\n      type: event\n    }, payload);\n  }\n  return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n  var eventObject = toEventObject(event);\n  return _tslib.__assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n    return _tslib.__assign(_tslib.__assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\nfunction normalizeTarget(target) {\n  if (target === undefined || target === constants.TARGETLESS_KEY) {\n    return undefined;\n  }\n  return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!environment.IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : '';\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n    }\n  }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === constants.DEFAULT_GUARD_TYPE) {\n    return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n  }\n  var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];\n  if (!condFn) {\n    throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n  }\n  return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n  return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n  var noop = function () {};\n  var isObserver = typeof nextHandler === 'object';\n  var self = isObserver ? nextHandler : null;\n  return {\n    next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self),\n    error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self),\n    complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self)\n  };\n}\nfunction createInvokeId(stateNodeId, index) {\n  return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\nfunction isRaisableAction(action) {\n  return (action.type === actionTypes.raise || action.type === actionTypes.send && action.to === types.SpecialTargets.Internal) && typeof action.delay !== 'number';\n}\nexports.createInvokeId = createInvokeId;\nexports.evaluateGuard = evaluateGuard;\nexports.flatten = flatten;\nexports.getActionType = getActionType;\nexports.getEventType = getEventType;\nexports.interopSymbols = interopSymbols;\nexports.isActor = isActor;\nexports.isArray = isArray;\nexports.isBehavior = isBehavior;\nexports.isBuiltInEvent = isBuiltInEvent;\nexports.isFunction = isFunction;\nexports.isMachine = isMachine;\nexports.isObservable = isObservable;\nexports.isPromiseLike = isPromiseLike;\nexports.isRaisableAction = isRaisableAction;\nexports.isStateLike = isStateLike;\nexports.isString = isString;\nexports.keys = keys;\nexports.mapContext = mapContext;\nexports.mapFilterValues = mapFilterValues;\nexports.mapValues = mapValues;\nexports.matchesState = matchesState;\nexports.nestedPath = nestedPath;\nexports.normalizeTarget = normalizeTarget;\nexports.partition = partition;\nexports.path = path;\nexports.pathToStateValue = pathToStateValue;\nexports.pathsToStateValue = pathsToStateValue;\nexports.reportUnhandledExceptionOnInvocation = reportUnhandledExceptionOnInvocation;\nexports.symbolObservable = symbolObservable;\nexports.toArray = toArray;\nexports.toArrayStrict = toArrayStrict;\nexports.toEventObject = toEventObject;\nexports.toGuard = toGuard;\nexports.toInvokeSource = toInvokeSource;\nexports.toObserver = toObserver;\nexports.toSCXMLEvent = toSCXMLEvent;\nexports.toStatePath = toStatePath;\nexports.toStatePaths = toStatePaths;\nexports.toStateValue = toStateValue;\nexports.toTransitionConfigArray = toTransitionConfigArray;\nexports.uniqueId = uniqueId;\nexports.updateContext = updateContext;\nexports.updateHistoryStates = updateHistoryStates;\nexports.updateHistoryValue = updateHistoryValue;","map":{"version":3,"names":["Object","defineProperty","exports","value","_tslib","require","types","actionTypes","constants","environment","_a","keys","matchesState","parentStateId","childStateId","delimiter","STATE_DELIMITER","parentStateValue","toStateValue","childStateValue","isString","every","key","getEventType","event","concat","type","e","Error","getActionType","action","isFunction","name","toStatePath","stateId","isArray","toString","split","isStateLike","state","stateValue","pathToStateValue","statePath","length","marker","i","mapValues","collection","iteratee","result","collectionKeys","mapFilterValues","predicate","e_1","_b","__values","_c","next","done","item","e_1_1","error","return","call","path","props","object","e_2","props_1","props_1_1","prop","e_2_1","nestedPath","accessorProp","e_3","props_2","props_2_1","e_3_1","toStatePaths","flatten","map","subStateValue","subPath","pathsToStateValue","paths","e_4","paths_1","paths_1_1","currentPath","e_4_1","array","apply","__spreadArray","__read","toArrayStrict","toArray","undefined","mapContext","mapper","context","_event","e_5","data","subMapper","e_5_1","isBuiltInEvent","eventType","test","isPromiseLike","Promise","then","isBehavior","transition","partition","items","e_6","truthy","falsy","items_1","items_1_1","push","e_6_1","updateHistoryStates","hist","states","subHist","current","updateHistoryValue","updateContext","assignActions","IS_PRODUCTION","warn","updatedContext","reduce","acc","assignAction","e_7","assignment","meta","partialUpdate","propAssignment","e_7_1","assign","condition","message","console","args","Array","toGuard","guardMap","DEFAULT_GUARD_TYPE","isObservable","subscribe","symbolObservable","Symbol","observable","interopSymbols","isMachine","isActor","send","uniqueId","currentId","toEventObject","payload","__assign","toSCXMLEvent","scxmlEvent","$$type","eventObject","toTransitionConfigArray","configLike","transitions","transitionLike","target","normalizeTarget","TARGETLESS_KEY","reportUnhandledExceptionOnInvocation","originalError","currentError","id","originalStackTrace","stack","stackTrace","evaluateGuard","machine","guard","guards","options","guardMeta","cond","condFn","toInvokeSource","src","toObserver","nextHandler","errorHandler","completionHandler","noop","isObserver","self","bind","complete","createInvokeId","stateNodeId","index","isRaisableAction","raise","to","SpecialTargets","Internal","delay"],"sources":["B:/dev/3DModelViewer/frontend/node_modules/xstate/lib/utils.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar _tslib = require('./_virtual/_tslib.js');\nvar types = require('./types.js');\nvar actionTypes = require('./actionTypes.js');\nvar constants = require('./constants.js');\nvar environment = require('./environment.js');\n\nvar _a;\nfunction keys(value) {\n  return Object.keys(value);\n}\nfunction matchesState(parentStateId, childStateId, delimiter) {\n  if (delimiter === void 0) {\n    delimiter = constants.STATE_DELIMITER;\n  }\n\n  var parentStateValue = toStateValue(parentStateId, delimiter);\n  var childStateValue = toStateValue(childStateId, delimiter);\n\n  if (isString(childStateValue)) {\n    if (isString(parentStateValue)) {\n      return childStateValue === parentStateValue;\n    } // Parent more specific than child\n\n\n    return false;\n  }\n\n  if (isString(parentStateValue)) {\n    return parentStateValue in childStateValue;\n  }\n\n  return Object.keys(parentStateValue).every(function (key) {\n    if (!(key in childStateValue)) {\n      return false;\n    }\n\n    return matchesState(parentStateValue[key], childStateValue[key]);\n  });\n}\nfunction getEventType(event) {\n  try {\n    return isString(event) || typeof event === 'number' ? \"\".concat(event) : event.type;\n  } catch (e) {\n    throw new Error('Events must be strings or objects with a string event.type property.');\n  }\n}\nfunction getActionType(action) {\n  try {\n    return isString(action) || typeof action === 'number' ? \"\".concat(action) : isFunction(action) ? action.name : action.type;\n  } catch (e) {\n    throw new Error('Actions must be strings or objects with a string action.type property.');\n  }\n}\nfunction toStatePath(stateId, delimiter) {\n  try {\n    if (isArray(stateId)) {\n      return stateId;\n    }\n\n    return stateId.toString().split(delimiter);\n  } catch (e) {\n    throw new Error(\"'\".concat(stateId, \"' is not a valid state path.\"));\n  }\n}\nfunction isStateLike(state) {\n  return typeof state === 'object' && 'value' in state && 'context' in state && 'event' in state && '_event' in state;\n}\nfunction toStateValue(stateValue, delimiter) {\n  if (isStateLike(stateValue)) {\n    return stateValue.value;\n  }\n\n  if (isArray(stateValue)) {\n    return pathToStateValue(stateValue);\n  }\n\n  if (typeof stateValue !== 'string') {\n    return stateValue;\n  }\n\n  var statePath = toStatePath(stateValue, delimiter);\n  return pathToStateValue(statePath);\n}\nfunction pathToStateValue(statePath) {\n  if (statePath.length === 1) {\n    return statePath[0];\n  }\n\n  var value = {};\n  var marker = value;\n\n  for (var i = 0; i < statePath.length - 1; i++) {\n    if (i === statePath.length - 2) {\n      marker[statePath[i]] = statePath[i + 1];\n    } else {\n      marker[statePath[i]] = {};\n      marker = marker[statePath[i]];\n    }\n  }\n\n  return value;\n}\nfunction mapValues(collection, iteratee) {\n  var result = {};\n  var collectionKeys = Object.keys(collection);\n\n  for (var i = 0; i < collectionKeys.length; i++) {\n    var key = collectionKeys[i];\n    result[key] = iteratee(collection[key], key, collection, i);\n  }\n\n  return result;\n}\nfunction mapFilterValues(collection, iteratee, predicate) {\n  var e_1, _a;\n\n  var result = {};\n\n  try {\n    for (var _b = _tslib.__values(Object.keys(collection)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var item = collection[key];\n\n      if (!predicate(item)) {\n        continue;\n      }\n\n      result[key] = iteratee(item, key, collection);\n    }\n  } catch (e_1_1) {\n    e_1 = {\n      error: e_1_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_1) throw e_1.error;\n    }\n  }\n\n  return result;\n}\n/**\r\n * Retrieves a value at the given path.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nvar path = function (props) {\n  return function (object) {\n    var e_2, _a;\n\n    var result = object;\n\n    try {\n      for (var props_1 = _tslib.__values(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        result = result[prop];\n      }\n    } catch (e_2_1) {\n      e_2 = {\n        error: e_2_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_2) throw e_2.error;\n      }\n    }\n\n    return result;\n  };\n};\n/**\r\n * Retrieves a value at the given path via the nested accessor prop.\r\n * @param props The deep path to the prop of the desired value\r\n */\n\nfunction nestedPath(props, accessorProp) {\n  return function (object) {\n    var e_3, _a;\n\n    var result = object;\n\n    try {\n      for (var props_2 = _tslib.__values(props), props_2_1 = props_2.next(); !props_2_1.done; props_2_1 = props_2.next()) {\n        var prop = props_2_1.value;\n        result = result[accessorProp][prop];\n      }\n    } catch (e_3_1) {\n      e_3 = {\n        error: e_3_1\n      };\n    } finally {\n      try {\n        if (props_2_1 && !props_2_1.done && (_a = props_2.return)) _a.call(props_2);\n      } finally {\n        if (e_3) throw e_3.error;\n      }\n    }\n\n    return result;\n  };\n}\nfunction toStatePaths(stateValue) {\n  if (!stateValue) {\n    return [[]];\n  }\n\n  if (isString(stateValue)) {\n    return [[stateValue]];\n  }\n\n  var result = flatten(Object.keys(stateValue).map(function (key) {\n    var subStateValue = stateValue[key];\n\n    if (typeof subStateValue !== 'string' && (!subStateValue || !Object.keys(subStateValue).length)) {\n      return [[key]];\n    }\n\n    return toStatePaths(stateValue[key]).map(function (subPath) {\n      return [key].concat(subPath);\n    });\n  }));\n  return result;\n}\nfunction pathsToStateValue(paths) {\n  var e_4, _a;\n\n  var result = {};\n\n  if (paths && paths.length === 1 && paths[0].length === 1) {\n    return paths[0][0];\n  }\n\n  try {\n    for (var paths_1 = _tslib.__values(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n      var currentPath = paths_1_1.value;\n      var marker = result; // tslint:disable-next-line:prefer-for-of\n\n      for (var i = 0; i < currentPath.length; i++) {\n        var subPath = currentPath[i];\n\n        if (i === currentPath.length - 2) {\n          marker[subPath] = currentPath[i + 1];\n          break;\n        }\n\n        marker[subPath] = marker[subPath] || {};\n        marker = marker[subPath];\n      }\n    }\n  } catch (e_4_1) {\n    e_4 = {\n      error: e_4_1\n    };\n  } finally {\n    try {\n      if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n    } finally {\n      if (e_4) throw e_4.error;\n    }\n  }\n\n  return result;\n}\nfunction flatten(array) {\n  var _a;\n\n  return (_a = []).concat.apply(_a, _tslib.__spreadArray([], _tslib.__read(array), false));\n}\nfunction toArrayStrict(value) {\n  if (isArray(value)) {\n    return value;\n  }\n\n  return [value];\n}\nfunction toArray(value) {\n  if (value === undefined) {\n    return [];\n  }\n\n  return toArrayStrict(value);\n}\nfunction mapContext(mapper, context, _event) {\n  var e_5, _a;\n\n  if (isFunction(mapper)) {\n    return mapper(context, _event.data);\n  }\n\n  var result = {};\n\n  try {\n    for (var _b = _tslib.__values(Object.keys(mapper)), _c = _b.next(); !_c.done; _c = _b.next()) {\n      var key = _c.value;\n      var subMapper = mapper[key];\n\n      if (isFunction(subMapper)) {\n        result[key] = subMapper(context, _event.data);\n      } else {\n        result[key] = subMapper;\n      }\n    }\n  } catch (e_5_1) {\n    e_5 = {\n      error: e_5_1\n    };\n  } finally {\n    try {\n      if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n    } finally {\n      if (e_5) throw e_5.error;\n    }\n  }\n\n  return result;\n}\nfunction isBuiltInEvent(eventType) {\n  return /^(done|error)\\./.test(eventType);\n}\nfunction isPromiseLike(value) {\n  if (value instanceof Promise) {\n    return true;\n  } // Check if shape matches the Promise/A+ specification for a \"thenable\".\n\n\n  if (value !== null && (isFunction(value) || typeof value === 'object') && isFunction(value.then)) {\n    return true;\n  }\n\n  return false;\n}\nfunction isBehavior(value) {\n  return value !== null && typeof value === 'object' && 'transition' in value && typeof value.transition === 'function';\n}\nfunction partition(items, predicate) {\n  var e_6, _a;\n\n  var _b = _tslib.__read([[], []], 2),\n      truthy = _b[0],\n      falsy = _b[1];\n\n  try {\n    for (var items_1 = _tslib.__values(items), items_1_1 = items_1.next(); !items_1_1.done; items_1_1 = items_1.next()) {\n      var item = items_1_1.value;\n\n      if (predicate(item)) {\n        truthy.push(item);\n      } else {\n        falsy.push(item);\n      }\n    }\n  } catch (e_6_1) {\n    e_6 = {\n      error: e_6_1\n    };\n  } finally {\n    try {\n      if (items_1_1 && !items_1_1.done && (_a = items_1.return)) _a.call(items_1);\n    } finally {\n      if (e_6) throw e_6.error;\n    }\n  }\n\n  return [truthy, falsy];\n}\nfunction updateHistoryStates(hist, stateValue) {\n  return mapValues(hist.states, function (subHist, key) {\n    if (!subHist) {\n      return undefined;\n    }\n\n    var subStateValue = (isString(stateValue) ? undefined : stateValue[key]) || (subHist ? subHist.current : undefined);\n\n    if (!subStateValue) {\n      return undefined;\n    }\n\n    return {\n      current: subStateValue,\n      states: updateHistoryStates(subHist, subStateValue)\n    };\n  });\n}\nfunction updateHistoryValue(hist, stateValue) {\n  return {\n    current: stateValue,\n    states: updateHistoryStates(hist, stateValue)\n  };\n}\nfunction updateContext(context, _event, assignActions, state) {\n  if (!environment.IS_PRODUCTION) {\n    exports.warn(!!context, 'Attempting to update undefined context');\n  }\n\n  var updatedContext = context ? assignActions.reduce(function (acc, assignAction) {\n    var e_7, _a;\n\n    var assignment = assignAction.assignment;\n    var meta = {\n      state: state,\n      action: assignAction,\n      _event: _event\n    };\n    var partialUpdate = {};\n\n    if (isFunction(assignment)) {\n      partialUpdate = assignment(acc, _event.data, meta);\n    } else {\n      try {\n        for (var _b = _tslib.__values(Object.keys(assignment)), _c = _b.next(); !_c.done; _c = _b.next()) {\n          var key = _c.value;\n          var propAssignment = assignment[key];\n          partialUpdate[key] = isFunction(propAssignment) ? propAssignment(acc, _event.data, meta) : propAssignment;\n        }\n      } catch (e_7_1) {\n        e_7 = {\n          error: e_7_1\n        };\n      } finally {\n        try {\n          if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        } finally {\n          if (e_7) throw e_7.error;\n        }\n      }\n    }\n\n    return Object.assign({}, acc, partialUpdate);\n  }, context) : context;\n  return updatedContext;\n} // tslint:disable-next-line:no-empty\n\nexports.warn = function () {};\n\nif (!environment.IS_PRODUCTION) {\n  exports.warn = function (condition, message) {\n    var error = condition instanceof Error ? condition : undefined;\n\n    if (!error && condition) {\n      return;\n    }\n\n    if (console !== undefined) {\n      var args = [\"Warning: \".concat(message)];\n\n      if (error) {\n        args.push(error);\n      } // tslint:disable-next-line:no-console\n\n\n      console.warn.apply(console, args);\n    }\n  };\n}\nfunction isArray(value) {\n  return Array.isArray(value);\n} // tslint:disable-next-line:ban-types\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\nfunction isString(value) {\n  return typeof value === 'string';\n}\nfunction toGuard(condition, guardMap) {\n  if (!condition) {\n    return undefined;\n  }\n\n  if (isString(condition)) {\n    return {\n      type: constants.DEFAULT_GUARD_TYPE,\n      name: condition,\n      predicate: guardMap ? guardMap[condition] : undefined\n    };\n  }\n\n  if (isFunction(condition)) {\n    return {\n      type: constants.DEFAULT_GUARD_TYPE,\n      name: condition.name,\n      predicate: condition\n    };\n  }\n\n  return condition;\n}\nfunction isObservable(value) {\n  try {\n    return 'subscribe' in value && isFunction(value.subscribe);\n  } catch (e) {\n    return false;\n  }\n}\nvar symbolObservable = /*#__PURE__*/function () {\n  return typeof Symbol === 'function' && Symbol.observable || '@@observable';\n}(); // TODO: to be removed in v5, left it out just to minimize the scope of the change and maintain compatibility with older versions of integration paackages\n\nvar interopSymbols = (_a = {}, _a[symbolObservable] = function () {\n  return this;\n}, _a[Symbol.observable] = function () {\n  return this;\n}, _a);\nfunction isMachine(value) {\n  return !!value && '__xstatenode' in value;\n}\nfunction isActor(value) {\n  return !!value && typeof value.send === 'function';\n}\nvar uniqueId = /*#__PURE__*/function () {\n  var currentId = 0;\n  return function () {\n    currentId++;\n    return currentId.toString(16);\n  };\n}();\nfunction toEventObject(event, payload // id?: TEvent['type']\n) {\n  if (isString(event) || typeof event === 'number') {\n    return _tslib.__assign({\n      type: event\n    }, payload);\n  }\n\n  return event;\n}\nfunction toSCXMLEvent(event, scxmlEvent) {\n  if (!isString(event) && '$$type' in event && event.$$type === 'scxml') {\n    return event;\n  }\n\n  var eventObject = toEventObject(event);\n  return _tslib.__assign({\n    name: eventObject.type,\n    data: eventObject,\n    $$type: 'scxml',\n    type: 'external'\n  }, scxmlEvent);\n}\nfunction toTransitionConfigArray(event, configLike) {\n  var transitions = toArrayStrict(configLike).map(function (transitionLike) {\n    if (typeof transitionLike === 'undefined' || typeof transitionLike === 'string' || isMachine(transitionLike)) {\n      return {\n        target: transitionLike,\n        event: event\n      };\n    }\n\n    return _tslib.__assign(_tslib.__assign({}, transitionLike), {\n      event: event\n    });\n  });\n  return transitions;\n}\nfunction normalizeTarget(target) {\n  if (target === undefined || target === constants.TARGETLESS_KEY) {\n    return undefined;\n  }\n\n  return toArray(target);\n}\nfunction reportUnhandledExceptionOnInvocation(originalError, currentError, id) {\n  if (!environment.IS_PRODUCTION) {\n    var originalStackTrace = originalError.stack ? \" Stacktrace was '\".concat(originalError.stack, \"'\") : '';\n\n    if (originalError === currentError) {\n      // tslint:disable-next-line:no-console\n      console.error(\"Missing onError handler for invocation '\".concat(id, \"', error was '\").concat(originalError, \"'.\").concat(originalStackTrace));\n    } else {\n      var stackTrace = currentError.stack ? \" Stacktrace was '\".concat(currentError.stack, \"'\") : ''; // tslint:disable-next-line:no-console\n\n      console.error(\"Missing onError handler and/or unhandled exception/promise rejection for invocation '\".concat(id, \"'. \") + \"Original error: '\".concat(originalError, \"'. \").concat(originalStackTrace, \" Current error is '\").concat(currentError, \"'.\").concat(stackTrace));\n    }\n  }\n}\nfunction evaluateGuard(machine, guard, context, _event, state) {\n  var guards = machine.options.guards;\n  var guardMeta = {\n    state: state,\n    cond: guard,\n    _event: _event\n  }; // TODO: do not hardcode!\n\n  if (guard.type === constants.DEFAULT_GUARD_TYPE) {\n    return ((guards === null || guards === void 0 ? void 0 : guards[guard.name]) || guard.predicate)(context, _event.data, guardMeta);\n  }\n\n  var condFn = guards === null || guards === void 0 ? void 0 : guards[guard.type];\n\n  if (!condFn) {\n    throw new Error(\"Guard '\".concat(guard.type, \"' is not implemented on machine '\").concat(machine.id, \"'.\"));\n  }\n\n  return condFn(context, _event.data, guardMeta);\n}\nfunction toInvokeSource(src) {\n  if (typeof src === 'string') {\n    return {\n      type: src\n    };\n  }\n\n  return src;\n}\nfunction toObserver(nextHandler, errorHandler, completionHandler) {\n  var noop = function () {};\n\n  var isObserver = typeof nextHandler === 'object';\n  var self = isObserver ? nextHandler : null;\n  return {\n    next: ((isObserver ? nextHandler.next : nextHandler) || noop).bind(self),\n    error: ((isObserver ? nextHandler.error : errorHandler) || noop).bind(self),\n    complete: ((isObserver ? nextHandler.complete : completionHandler) || noop).bind(self)\n  };\n}\nfunction createInvokeId(stateNodeId, index) {\n  return \"\".concat(stateNodeId, \":invocation[\").concat(index, \"]\");\n}\nfunction isRaisableAction(action) {\n  return (action.type === actionTypes.raise || action.type === actionTypes.send && action.to === types.SpecialTargets.Internal) && typeof action.delay !== 'number';\n}\n\nexports.createInvokeId = createInvokeId;\nexports.evaluateGuard = evaluateGuard;\nexports.flatten = flatten;\nexports.getActionType = getActionType;\nexports.getEventType = getEventType;\nexports.interopSymbols = interopSymbols;\nexports.isActor = isActor;\nexports.isArray = isArray;\nexports.isBehavior = isBehavior;\nexports.isBuiltInEvent = isBuiltInEvent;\nexports.isFunction = isFunction;\nexports.isMachine = isMachine;\nexports.isObservable = isObservable;\nexports.isPromiseLike = isPromiseLike;\nexports.isRaisableAction = isRaisableAction;\nexports.isStateLike = isStateLike;\nexports.isString = isString;\nexports.keys = keys;\nexports.mapContext = mapContext;\nexports.mapFilterValues = mapFilterValues;\nexports.mapValues = mapValues;\nexports.matchesState = matchesState;\nexports.nestedPath = nestedPath;\nexports.normalizeTarget = normalizeTarget;\nexports.partition = partition;\nexports.path = path;\nexports.pathToStateValue = pathToStateValue;\nexports.pathsToStateValue = pathsToStateValue;\nexports.reportUnhandledExceptionOnInvocation = reportUnhandledExceptionOnInvocation;\nexports.symbolObservable = symbolObservable;\nexports.toArray = toArray;\nexports.toArrayStrict = toArrayStrict;\nexports.toEventObject = toEventObject;\nexports.toGuard = toGuard;\nexports.toInvokeSource = toInvokeSource;\nexports.toObserver = toObserver;\nexports.toSCXMLEvent = toSCXMLEvent;\nexports.toStatePath = toStatePath;\nexports.toStatePaths = toStatePaths;\nexports.toStateValue = toStateValue;\nexports.toTransitionConfigArray = toTransitionConfigArray;\nexports.uniqueId = uniqueId;\nexports.updateContext = updateContext;\nexports.updateHistoryStates = updateHistoryStates;\nexports.updateHistoryValue = updateHistoryValue;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}