{"ast":null,"code":"import React from\"react\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Card(_ref){var prop=_ref.prop,onCardClick=_ref.onCardClick,onCardLike=_ref.onCardLike,onCardDelete=_ref.onCardDelete;var currentUser=React.useContext(CurrentUserContext);var isOwn=prop.owner._id===currentUser._id;var isLiked=prop.likes.some(function(i){return i._id===currentUser._id;});var cardLikeButtonClassName=\"button element__like-button \".concat(isLiked&&\"element__like-button_active\");function handleClick(){onCardClick(prop);}function handleLikeClick(){onCardLike(prop);}function handleDeleteClick(){onCardDelete(prop);}return/*#__PURE__*/_jsx(\"article\",{className:\"element\",children:/*#__PURE__*/_jsxs(\"figure\",{className:\"element__container\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"element__image\",src:prop.link,alt:prop.name,onClick:handleClick}),/*#__PURE__*/_jsxs(\"figcaption\",{className:\"element__info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"element__title\",children:prop.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"element__like-container\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:cardLikeButtonClassName,onClick:handleLikeClick}),/*#__PURE__*/_jsx(\"p\",{className:\"element__like-counter\",style:{display:prop.likes.length>0?\"block\":\"none\"},children:prop.likes.length})]}),isOwn&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button element__trash-button\",onClick:handleDeleteClick})]})]})});}export default Card;","map":{"version":3,"names":["React","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","Card","_ref","prop","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","concat","handleClick","handleLikeClick","handleDeleteClick","className","children","src","link","alt","name","onClick","type","style","display","length"],"sources":["B:/dev/3DModelViewer/frontend/src/components/Card.js"],"sourcesContent":["import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Card({ prop, onCardClick, onCardLike, onCardDelete }) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const isOwn = prop.owner._id === currentUser._id;\r\n\r\n  const isLiked = prop.likes.some((i) => i._id === currentUser._id);\r\n\r\n  const cardLikeButtonClassName = `button element__like-button ${\r\n    isLiked && \"element__like-button_active\"\r\n  }`;\r\n\r\n  function handleClick() {\r\n    onCardClick(prop);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    onCardLike(prop);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    onCardDelete(prop);\r\n  }\r\n  return (\r\n    <article className=\"element\">\r\n      <figure className=\"element__container\">\r\n        <img\r\n          className=\"element__image\"\r\n          src={prop.link}\r\n          alt={prop.name}\r\n          onClick={handleClick}\r\n        />\r\n        <figcaption className=\"element__info\">\r\n          <h2 className=\"element__title\">{prop.name}</h2>\r\n          <div className=\"element__like-container\">\r\n            <button\r\n              type=\"button\"\r\n              className={cardLikeButtonClassName}\r\n              onClick={handleLikeClick}\r\n            ></button>\r\n            <p\r\n              className=\"element__like-counter\"\r\n              style={{ display: prop.likes.length > 0 ? \"block\" : \"none\" }}\r\n            >\r\n              {prop.likes.length}\r\n            </p>\r\n          </div>\r\n          {isOwn && (\r\n            <button\r\n              type=\"button\"\r\n              className=\"button element__trash-button\"\r\n              onClick={handleDeleteClick}\r\n            />\r\n          )}\r\n        </figcaption>\r\n      </figure>\r\n    </article>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,kBAAkB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpE,QAAS,CAAAC,IAAIA,CAAAC,IAAA,CAAkD,IAA/C,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAAEC,WAAW,CAAAF,IAAA,CAAXE,WAAW,CAAEC,UAAU,CAAAH,IAAA,CAAVG,UAAU,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CACzD,GAAM,CAAAC,WAAW,CAAGZ,KAAK,CAACa,UAAU,CAACZ,kBAAkB,CAAC,CAExD,GAAM,CAAAa,KAAK,CAAGN,IAAI,CAACO,KAAK,CAACC,GAAG,GAAKJ,WAAW,CAACI,GAAG,CAEhD,GAAM,CAAAC,OAAO,CAAGT,IAAI,CAACU,KAAK,CAACC,IAAI,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAACJ,GAAG,GAAKJ,WAAW,CAACI,GAAG,GAAC,CAEjE,GAAM,CAAAK,uBAAuB,gCAAAC,MAAA,CAC3BL,OAAO,EAAI,6BAA6B,CACxC,CAEF,QAAS,CAAAM,WAAWA,CAAA,CAAG,CACrBd,WAAW,CAACD,IAAI,CAAC,CACnB,CAEA,QAAS,CAAAgB,eAAeA,CAAA,CAAG,CACzBd,UAAU,CAACF,IAAI,CAAC,CAClB,CAEA,QAAS,CAAAiB,iBAAiBA,CAAA,CAAG,CAC3Bd,YAAY,CAACH,IAAI,CAAC,CACpB,CACA,mBACEL,IAAA,YAASuB,SAAS,CAAC,SAAS,CAAAC,QAAA,cAC1BtB,KAAA,WAAQqB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACpCxB,IAAA,QACEuB,SAAS,CAAC,gBAAgB,CAC1BE,GAAG,CAAEpB,IAAI,CAACqB,IAAK,CACfC,GAAG,CAAEtB,IAAI,CAACuB,IAAK,CACfC,OAAO,CAAET,WAAY,EACrB,cACFlB,KAAA,eAAYqB,SAAS,CAAC,eAAe,CAAAC,QAAA,eACnCxB,IAAA,OAAIuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAAEnB,IAAI,CAACuB,IAAI,EAAM,cAC/C1B,KAAA,QAAKqB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCxB,IAAA,WACE8B,IAAI,CAAC,QAAQ,CACbP,SAAS,CAAEL,uBAAwB,CACnCW,OAAO,CAAER,eAAgB,EACjB,cACVrB,IAAA,MACEuB,SAAS,CAAC,uBAAuB,CACjCQ,KAAK,CAAE,CAAEC,OAAO,CAAE3B,IAAI,CAACU,KAAK,CAACkB,MAAM,CAAG,CAAC,CAAG,OAAO,CAAG,MAAO,CAAE,CAAAT,QAAA,CAE5DnB,IAAI,CAACU,KAAK,CAACkB,MAAM,EAChB,GACA,CACLtB,KAAK,eACJX,IAAA,WACE8B,IAAI,CAAC,QAAQ,CACbP,SAAS,CAAC,8BAA8B,CACxCM,OAAO,CAAEP,iBAAkB,EAE9B,GACU,GACN,EACD,CAEd,CAEA,cAAe,CAAAnB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}