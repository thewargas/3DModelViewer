{"ast":null,"code":"import _slicedToArray from\"C:/Users/warga/Desktop/dev/react-mesto-auth/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AuthForm(_ref){var onValidation=_ref.onValidation,isError=_ref.isError,messageError=_ref.messageError,onSubmit=_ref.onSubmit,title=_ref.title,button=_ref.button,children=_ref.children;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var formRef=useRef();var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isValidity=_useState6[0],setValidity=_useState6[1];useEffect(function(){setValidity(formRef.current.checkValidity());},[isError]);function handleChangeEmail(e){setEmail(e.target.value);onValidation(e);}function handleChangePassword(e){setPassword(e.target.value);onValidation(e);}function handleSubmit(e){e.preventDefault();onSubmit({password:password,email:email});}return/*#__PURE__*/_jsxs(\"div\",{className:\"auth\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"auth__title\",children:title}),/*#__PURE__*/_jsxs(\"form\",{className:\"auth__form\",ref:formRef,name:\"auth-form\",onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsx(\"input\",{className:\"auth__input \".concat(isError.email&&\"auth__input_type_error\"),type:\"email\",placeholder:\"Email\",name:\"email\",onChange:handleChangeEmail,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"auth__input-error \".concat(isError.email&&\"auth__input-error_active\"),children:isError.email&&messageError.email}),/*#__PURE__*/_jsx(\"input\",{className:\"auth__input \".concat(isError.password&&\"auth__input_type_error\"),type:\"password\",placeholder:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",name:\"password\",onChange:handleChangePassword,minLength:\"3\",required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"auth__input-error \".concat(isError.password&&\"auth__input-error_active\"),children:isError.password&&messageError.password}),/*#__PURE__*/_jsx(\"button\",{disabled:!isValidity,type:\"submit\",className:\"button auth__submit-button \".concat(!isValidity&&\"button_disabled\"),children:button})]}),children]});}export default AuthForm;","map":{"version":3,"names":["React","useRef","useState","useEffect","jsx","_jsx","jsxs","_jsxs","AuthForm","_ref","onValidation","isError","messageError","onSubmit","title","button","children","_useState","_useState2","_slicedToArray","email","setEmail","_useState3","_useState4","password","setPassword","formRef","_useState5","_useState6","isValidity","setValidity","current","checkValidity","handleChangeEmail","e","target","value","handleChangePassword","handleSubmit","preventDefault","className","ref","name","noValidate","concat","type","placeholder","onChange","required","minLength","disabled"],"sources":["C:/Users/warga/Desktop/dev/react-mesto-auth/src/components/AuthForm.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\r\n\r\nfunction AuthForm({\r\n  onValidation,\r\n  isError,\r\n  messageError,\r\n  onSubmit,\r\n  title,\r\n  button,\r\n  children,\r\n}) {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n\r\n  const formRef = useRef();\r\n  const [isValidity, setValidity] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setValidity(formRef.current.checkValidity());\r\n  }, [isError]);\r\n\r\n  function handleChangeEmail(e) {\r\n    setEmail(e.target.value);\r\n    onValidation(e);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n    onValidation(e);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onSubmit({\r\n      password,\r\n      email,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth\">\r\n      <h1 className=\"auth__title\">{title}</h1>\r\n      <form\r\n        className=\"auth__form\"\r\n        ref={formRef}\r\n        name={`auth-form`}\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <input\r\n          className={`auth__input ${isError.email && \"auth__input_type_error\"}`}\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          name=\"email\"\r\n          onChange={handleChangeEmail}\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error ${\r\n            isError.email && \"auth__input-error_active\"\r\n          }`}\r\n        >\r\n          {isError.email && messageError.email}\r\n        </span>\r\n        <input\r\n          className={`auth__input ${\r\n            isError.password && \"auth__input_type_error\"\r\n          }`}\r\n          type=\"password\"\r\n          placeholder=\"Пароль\"\r\n          name=\"password\"\r\n          onChange={handleChangePassword}\r\n          minLength=\"3\"\r\n          required\r\n        />\r\n        <span\r\n          className={`auth__input-error ${\r\n            isError.password && \"auth__input-error_active\"\r\n          }`}\r\n        >\r\n          {isError.password && messageError.password}\r\n        </span>\r\n        <button\r\n          disabled={!isValidity}\r\n          type=\"submit\"\r\n          className={`button auth__submit-button ${\r\n            !isValidity && \"button_disabled\"\r\n          }`}\r\n        >\r\n          {button}\r\n        </button>\r\n      </form>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AuthForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}