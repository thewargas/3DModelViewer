{"ast":null,"code":"import _defineProperty from\"B:/dev/3DModelViewer/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"B:/dev/3DModelViewer/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"B:/dev/3DModelViewer/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import errorIcon from\"../images/error-icon.svg\";import nameModelIcon from\"../images/name-model.svg\";import glbIcon from\"../images/glb-file.svg\";import infoIcon from\"../images/version.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupAddModel(_ref){var isOpen=_ref.isOpen,setOpen=_ref.setOpen,onValidation=_ref.onValidation,isError=_ref.isError,messageError=_ref.messageError;var formRef=useRef();var inputRef=useRef(null);var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isValidity=_useState2[0],setValidity=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),inputs=_useState4[0],setInputs=_useState4[1];useEffect(function(){setValidity(formRef.current.checkValidity());},[isOpen,isError]);function handleChangeInput(e){setInputs(_objectSpread(_objectSpread({},inputs),{},_defineProperty({},e.target.name,e.target.value)));onValidation(e);}var handleClickUploadFile=function handleClickUploadFile(){inputRef.current.click();};return/*#__PURE__*/_jsx(\"div\",{className:\"popup \".concat(isOpen&&\"popup_active\"),children:/*#__PURE__*/_jsx(\"div\",{className:\"popup__container\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:function onClick(){setOpen(false);}}),/*#__PURE__*/_jsx(\"h2\",{className:\"popup__title\",children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043C\\u043E\\u0434\\u0435\\u043B\\u044C\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup__form\",action:\"#\",name:\"popup-form-add-model\",ref:formRef,noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-container inputs-container_type_file\",onClick:handleClickUploadFile,children:[/*#__PURE__*/_jsx(\"input\",{className:\"input input_type_file \".concat(isError.login&&\"input_type_error\"),type:\"file\",placeholder:\"\\u0424\\u0430\\u0439\\u043B \\u043C\\u043E\\u0434\\u0435\\u043B\\u0438\",name:\"login\",minLength:\"3\",ref:inputRef,accept:\".glb\",required:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-container__file\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"input__image input__image_type_file\",src:glbIcon,alt:\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043B\\u043E\\u0433\\u0438\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"p\",{className:\"inputs-container__text\",children:\"\\u0424\\u0430\\u0439\\u043B \\u043C\\u043E\\u0434\\u0435\\u043B\\u0438\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-container\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"input \".concat(isError.modelName&&\"input_type_error\"),type:\"text\",placeholder:\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \\u043C\\u043E\\u0434\\u0435\\u043B\\u0438\",name:\"modelName\",minLength:\"3\",onChange:handleChangeInput,required:true}),isError.modelName&&/*#__PURE__*/_jsx(\"img\",{className:\"input__error-image\",src:errorIcon,alt:\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"img\",{className:\"input__image\",src:nameModelIcon,alt:\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043B\\u043E\\u0433\\u0438\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"span\",{className:\"auth__input-error \".concat(isError.modelName&&\"auth__input-error_active\"),children:isError.modelName&&messageError.modelName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputs-container inputs-container_type_description\",children:[/*#__PURE__*/_jsx(\"textarea\",{className:\"input input_type_descriprion \".concat(isError.modelDescription&&\"input_type_error\"),type:\"text\",placeholder:\"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\",name:\"modelDescription\",minLength:\"3\",onChange:handleChangeInput,required:true}),isError.modelDescription&&/*#__PURE__*/_jsx(\"img\",{className:\"input__error-image\",src:errorIcon,alt:\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043E\\u0448\\u0438\\u0431\\u043A\\u0438\"}),/*#__PURE__*/_jsx(\"img\",{className:\"input__image\",src:infoIcon,alt:\"\\u0418\\u043A\\u043E\\u043D\\u043A\\u0430 \\u043B\\u043E\\u0433\\u0438\\u043D\\u0430\"}),/*#__PURE__*/_jsx(\"span\",{className:\"auth__input-error \".concat(isError.modelDescription&&\"auth__input-error_active\"),children:isError.modelDescription&&messageError.modelDescription})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"button popup__submit-button\",children:\"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u0442\\u044C\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button popup__logout-button\",children:\"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"})]})})});}export default PopupAddModel;","map":{"version":3,"names":["React","useState","useEffect","useRef","errorIcon","nameModelIcon","glbIcon","infoIcon","jsx","_jsx","jsxs","_jsxs","PopupAddModel","_ref","isOpen","setOpen","onValidation","isError","messageError","formRef","inputRef","_useState","_useState2","_slicedToArray","isValidity","setValidity","_useState3","_useState4","inputs","setInputs","current","checkValidity","handleChangeInput","e","_objectSpread","_defineProperty","target","name","value","handleClickUploadFile","click","className","concat","children","onClick","action","ref","noValidate","login","type","placeholder","minLength","accept","required","src","alt","modelName","onChange","modelDescription"],"sources":["B:/dev/3DModelViewer/frontend/src/components/PopupAddModel.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport errorIcon from \"../images/error-icon.svg\";\r\nimport nameModelIcon from \"../images/name-model.svg\";\r\nimport glbIcon from \"../images/glb-file.svg\";\r\nimport infoIcon from \"../images/version.svg\";\r\n\r\nfunction PopupAddModel({\r\n  isOpen,\r\n  setOpen,\r\n  onValidation,\r\n  isError,\r\n  messageError,\r\n}) {\r\n  const formRef = useRef();\r\n  const inputRef = useRef(null);\r\n\r\n  const [isValidity, setValidity] = useState(true);\r\n\r\n  const [inputs, setInputs] = useState({});\r\n\r\n  useEffect(() => {\r\n    setValidity(formRef.current.checkValidity());\r\n  }, [isOpen, isError]);\r\n\r\n  function handleChangeInput(e) {\r\n    setInputs({\r\n      ...inputs,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n    onValidation(e);\r\n  }\r\n\r\n  const handleClickUploadFile = () => {\r\n    inputRef.current.click();\r\n  };\r\n\r\n  return (\r\n    <div className={`popup ${isOpen && \"popup_active\"}`}>\r\n      <div className=\"popup__container\">\r\n        <div>\r\n          <button\r\n            className=\"back-button\"\r\n            onClick={() => {\r\n              setOpen(false);\r\n            }}\r\n          ></button>\r\n          <h2 className=\"popup__title\">Добавить модель</h2>\r\n          <form\r\n            className={`popup__form`}\r\n            action=\"#\"\r\n            name={`popup-form-add-model`}\r\n            ref={formRef}\r\n            noValidate\r\n          >\r\n            <div\r\n              className=\"inputs-container inputs-container_type_file\"\r\n              onClick={handleClickUploadFile}\r\n            >\r\n              <input\r\n                className={`input input_type_file ${\r\n                  isError.login && \"input_type_error\"\r\n                }`}\r\n                type=\"file\"\r\n                placeholder=\"Файл модели\"\r\n                name=\"login\"\r\n                minLength=\"3\"\r\n                ref={inputRef}\r\n                accept=\".glb\"\r\n                required\r\n              />\r\n              <div className=\"inputs-container__file\">\r\n                <img\r\n                  className=\"input__image input__image_type_file\"\r\n                  src={glbIcon}\r\n                  alt=\"Иконка логина\"\r\n                />\r\n                <p className=\"inputs-container__text\">Файл модели</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"inputs-container\">\r\n              <input\r\n                className={`input ${isError.modelName && \"input_type_error\"}`}\r\n                type=\"text\"\r\n                placeholder=\"Название модели\"\r\n                name=\"modelName\"\r\n                minLength=\"3\"\r\n                onChange={handleChangeInput}\r\n                required\r\n              />\r\n              {isError.modelName && (\r\n                <img\r\n                  className=\"input__error-image\"\r\n                  src={errorIcon}\r\n                  alt=\"Иконка ошибки\"\r\n                />\r\n              )}\r\n              <img\r\n                className=\"input__image\"\r\n                src={nameModelIcon}\r\n                alt=\"Иконка логина\"\r\n              />\r\n              <span\r\n                className={`auth__input-error ${\r\n                  isError.modelName && \"auth__input-error_active\"\r\n                }`}\r\n              >\r\n                {isError.modelName && messageError.modelName}\r\n              </span>\r\n            </div>\r\n            <div className=\"inputs-container inputs-container_type_description\">\r\n              <textarea\r\n                className={`input input_type_descriprion ${\r\n                  isError.modelDescription && \"input_type_error\"\r\n                }`}\r\n                type=\"text\"\r\n                placeholder=\"Описание\"\r\n                name=\"modelDescription\"\r\n                minLength=\"3\"\r\n                onChange={handleChangeInput}\r\n                required\r\n              />\r\n              {isError.modelDescription && (\r\n                <img\r\n                  className=\"input__error-image\"\r\n                  src={errorIcon}\r\n                  alt=\"Иконка ошибки\"\r\n                />\r\n              )}\r\n              <img\r\n                className=\"input__image\"\r\n                src={infoIcon}\r\n                alt=\"Иконка логина\"\r\n              />\r\n              <span\r\n                className={`auth__input-error ${\r\n                  isError.modelDescription && \"auth__input-error_active\"\r\n                }`}\r\n              >\r\n                {isError.modelDescription && messageError.modelDescription}\r\n              </span>\r\n            </div>\r\n            <button type=\"submit\" className={`button popup__submit-button`}>\r\n              Опубликовать\r\n            </button>\r\n          </form>\r\n          <button type=\"button\" className={`button popup__logout-button`}>\r\n            Отменить\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupAddModel;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}