{"ast":null,"code":"import _slicedToArray from\"C:/Users/warga/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import PopupWithForm from\"./PopupWithForm\";import{CurrentUserContext}from\"../contexts/CurrentUserContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function EditProfilePopup(_ref){var onValidation=_ref.onValidation,isError=_ref.isError,messageError=_ref.messageError,onOverlay=_ref.onOverlay,isLoading=_ref.isLoading,isOpen=_ref.isOpen,onClose=_ref.onClose,onUpdateUser=_ref.onUpdateUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var currentUser=React.useContext(CurrentUserContext);useEffect(function(){setName(currentUser.name);setDescription(currentUser.about);},[currentUser,isOpen]);function handleChangeName(e){setName(e.target.value);onValidation(e);}function handleChangeDescription(e){setDescription(e.target.value);onValidation(e);}function handleSubmit(e){e.preventDefault();onUpdateUser({name:name,about:description});}return/*#__PURE__*/_jsx(PopupWithForm,{onOverlay:onOverlay,isLoading:isLoading,isOpen:isOpen,onClose:onClose,name:\"profile\",title:\"Редактировать профиль\",buttonName:\"Сохранить\",onSubmit:handleSubmit,isError:isError,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__inputs\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"name-input\",className:\"popup__input popup__input_type_name \".concat(isError.name&&\"popup__input_type_error\"),type:\"text\",placeholder:\"\\u0418\\u043C\\u044F \\u0438 \\u0444\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F\",name:\"name\",minLength:\"2\",maxLength:\"40\",value:name||\"\",onChange:handleChangeName,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error name-input-error \".concat(isError.name&&\"popup__input-error_active\"),children:isError.name&&messageError.name}),/*#__PURE__*/_jsx(\"input\",{id:\"job-input\",className:\"popup__input popup__input_type_job \".concat(isError.about&&\"popup__input_type_error\"),type:\"text\",placeholder:\"\\u0414\\u0435\\u044F\\u0442\\u0435\\u043B\\u044C\\u043D\\u043E\\u0441\\u0442\\u044C\",name:\"about\",minLength:\"2\",maxLength:\"200\",value:description||\"\",onChange:handleChangeDescription,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"popup__input-error job-input-error \".concat(isError.about&&\"popup__input-error_active\"),children:isError&&messageError.about})]})});}export default EditProfilePopup;","map":{"version":3,"names":["React","useState","useEffect","PopupWithForm","CurrentUserContext","jsx","_jsx","jsxs","_jsxs","EditProfilePopup","_ref","onValidation","isError","messageError","onOverlay","isLoading","isOpen","onClose","onUpdateUser","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","description","setDescription","currentUser","useContext","about","handleChangeName","e","target","value","handleChangeDescription","handleSubmit","preventDefault","title","buttonName","onSubmit","children","className","id","concat","type","placeholder","minLength","maxLength","onChange","required"],"sources":["C:/Users/warga/Desktop/dev/mesto-react/src/components/EditProfilePopup.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({\r\n  onValidation,\r\n  isError,\r\n  messageError,\r\n  onOverlay,\r\n  isLoading,\r\n  isOpen,\r\n  onClose,\r\n  onUpdateUser,\r\n}) {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen]);\r\n\r\n  function handleChangeName(e) {\r\n    setName(e.target.value);\r\n    onValidation(e);\r\n  }\r\n\r\n  function handleChangeDescription(e) {\r\n    setDescription(e.target.value);\r\n    onValidation(e);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      onOverlay={onOverlay}\r\n      isLoading={isLoading}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      name={\"profile\"}\r\n      title={\"Редактировать профиль\"}\r\n      buttonName={\"Сохранить\"}\r\n      onSubmit={handleSubmit}\r\n      isError={isError}\r\n    >\r\n      <div className=\"popup__inputs\">\r\n        <input\r\n          id=\"name-input\"\r\n          className={`popup__input popup__input_type_name ${\r\n            isError.name && \"popup__input_type_error\"\r\n          }`}\r\n          type=\"text\"\r\n          placeholder=\"Имя и фамилия\"\r\n          name=\"name\"\r\n          minLength=\"2\"\r\n          maxLength=\"40\"\r\n          value={name || \"\"}\r\n          onChange={handleChangeName}\r\n          required\r\n        />\r\n        <span\r\n          className={`popup__input-error name-input-error ${\r\n            isError.name && \"popup__input-error_active\"\r\n          }`}\r\n        >\r\n          {isError.name && messageError.name}\r\n        </span>\r\n        <input\r\n          id=\"job-input\"\r\n          className={`popup__input popup__input_type_job ${\r\n            isError.about && \"popup__input_type_error\"\r\n          }`}\r\n          type=\"text\"\r\n          placeholder=\"Деятельность\"\r\n          name=\"about\"\r\n          minLength=\"2\"\r\n          maxLength=\"200\"\r\n          value={description || \"\"}\r\n          onChange={handleChangeDescription}\r\n          required\r\n        />\r\n        <span\r\n          className={`popup__input-error job-input-error ${\r\n            isError.about && \"popup__input-error_active\"\r\n          }`}\r\n        >\r\n          {isError && messageError.about}\r\n        </span>\r\n      </div>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}