{"ast":null,"code":"import _slicedToArray from\"C:/Users/warga/Desktop/dev/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect,useRef}from\"react\";import closeIcon from\"../images/Close-Icon.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PopupWithForm(_ref){var onOverlay=_ref.onOverlay,isLoading=_ref.isLoading,isOpen=_ref.isOpen,onClose=_ref.onClose,name=_ref.name,title=_ref.title,buttonName=_ref.buttonName,onSubmit=_ref.onSubmit,children=_ref.children,isError=_ref.isError;var formRef=useRef();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isValidity=_useState2[0],setValidity=_useState2[1];useEffect(function(){setValidity(formRef.current.checkValidity());},[isOpen,isError]);return/*#__PURE__*/_jsx(\"div\",{className:\"popup popup_type_\".concat(name,\" \").concat(isOpen&&\"popup_active\"),onClick:onOverlay,children:/*#__PURE__*/_jsxs(\"div\",{className:\"popup__container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"popup__title\",children:title}),/*#__PURE__*/_jsxs(\"form\",{className:\"popup__form popup__form_type_\".concat(name),action:\"#\",name:\"popup-form-profile\",onSubmit:onSubmit,ref:formRef,noValidate:true,children:[children,/*#__PURE__*/_jsx(\"button\",{disabled:!isValidity,type:\"submit\",className:\"button popup__submit-button \".concat(!isValidity&&\"button_disabled\"),children:isLoading?\"Сохранение\":buttonName})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"button popup__close-button popup__close-button_type_profile\",onClick:onClose,children:/*#__PURE__*/_jsx(\"img\",{className:\"popup__close-button-image\",src:closeIcon,alt:\"\\u041A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u043A\\u0440\\u0435\\u0441\\u0442\\u0438\\u043A\"})})]})});}export default PopupWithForm;","map":{"version":3,"names":["React","useState","useEffect","useRef","closeIcon","jsx","_jsx","jsxs","_jsxs","PopupWithForm","_ref","onOverlay","isLoading","isOpen","onClose","name","title","buttonName","onSubmit","children","isError","formRef","_useState","_useState2","_slicedToArray","isValidity","setValidity","current","checkValidity","className","concat","onClick","action","ref","noValidate","disabled","type","src","alt"],"sources":["C:/Users/warga/Desktop/dev/mesto-react/src/components/PopupWithForm.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport closeIcon from \"../images/Close-Icon.svg\";\r\n\r\nfunction PopupWithForm({\r\n  onOverlay,\r\n  isLoading,\r\n  isOpen,\r\n  onClose,\r\n  name,\r\n  title,\r\n  buttonName,\r\n  onSubmit,\r\n  children,\r\n  isError,\r\n}) {\r\n  const formRef = useRef();\r\n  const [isValidity, setValidity] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setValidity(formRef.current.checkValidity());\r\n  }, [isOpen, isError]);\r\n\r\n  return (\r\n    <div\r\n      className={`popup popup_type_${name} ${isOpen && \"popup_active\"}`}\r\n      onClick={onOverlay}\r\n    >\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form\r\n          className={`popup__form popup__form_type_${name}`}\r\n          action=\"#\"\r\n          name=\"popup-form-profile\"\r\n          onSubmit={onSubmit}\r\n          ref={formRef}\r\n          noValidate\r\n        >\r\n          {children}\r\n          <button\r\n            disabled={!isValidity}\r\n            type=\"submit\"\r\n            className={`button popup__submit-button ${\r\n              !isValidity && \"button_disabled\"\r\n            }`}\r\n          >\r\n            {isLoading ? \"Сохранение\" : buttonName}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          className=\"button popup__close-button popup__close-button_type_profile\"\r\n          onClick={onClose}\r\n        >\r\n          <img\r\n            className=\"popup__close-button-image\"\r\n            src={closeIcon}\r\n            alt=\"Кнопка крестик\"\r\n          />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n"],"mappings":"4HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAC1D,MAAO,CAAAC,SAAS,KAAM,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEjD,QAAS,CAAAC,aAAaA,CAAAC,IAAA,CAWnB,IAVD,CAAAC,SAAS,CAAAD,IAAA,CAATC,SAAS,CACTC,SAAS,CAAAF,IAAA,CAATE,SAAS,CACTC,MAAM,CAAAH,IAAA,CAANG,MAAM,CACNC,OAAO,CAAAJ,IAAA,CAAPI,OAAO,CACPC,IAAI,CAAAL,IAAA,CAAJK,IAAI,CACJC,KAAK,CAAAN,IAAA,CAALM,KAAK,CACLC,UAAU,CAAAP,IAAA,CAAVO,UAAU,CACVC,QAAQ,CAAAR,IAAA,CAARQ,QAAQ,CACRC,QAAQ,CAAAT,IAAA,CAARS,QAAQ,CACRC,OAAO,CAAAV,IAAA,CAAPU,OAAO,CAEP,GAAM,CAAAC,OAAO,CAAGlB,MAAM,EAAE,CACxB,IAAAmB,SAAA,CAAkCrB,QAAQ,CAAC,IAAI,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAE9BrB,SAAS,CAAC,UAAM,CACdwB,WAAW,CAACL,OAAO,CAACM,OAAO,CAACC,aAAa,EAAE,CAAC,CAC9C,CAAC,CAAE,CAACf,MAAM,CAAEO,OAAO,CAAC,CAAC,CAErB,mBACEd,IAAA,QACEuB,SAAS,qBAAAC,MAAA,CAAsBf,IAAI,MAAAe,MAAA,CAAIjB,MAAM,EAAI,cAAc,CAAG,CAClEkB,OAAO,CAAEpB,SAAU,CAAAQ,QAAA,cAEnBX,KAAA,QAAKqB,SAAS,CAAC,kBAAkB,CAAAV,QAAA,eAC/Bb,IAAA,OAAIuB,SAAS,CAAC,cAAc,CAAAV,QAAA,CAAEH,KAAK,EAAM,cACzCR,KAAA,SACEqB,SAAS,iCAAAC,MAAA,CAAkCf,IAAI,CAAG,CAClDiB,MAAM,CAAC,GAAG,CACVjB,IAAI,CAAC,oBAAoB,CACzBG,QAAQ,CAAEA,QAAS,CACnBe,GAAG,CAAEZ,OAAQ,CACba,UAAU,MAAAf,QAAA,EAETA,QAAQ,cACTb,IAAA,WACE6B,QAAQ,CAAE,CAACV,UAAW,CACtBW,IAAI,CAAC,QAAQ,CACbP,SAAS,gCAAAC,MAAA,CACP,CAACL,UAAU,EAAI,iBAAiB,CAC/B,CAAAN,QAAA,CAEFP,SAAS,CAAG,YAAY,CAAGK,UAAU,EAC/B,GACJ,cACPX,IAAA,WACE8B,IAAI,CAAC,QAAQ,CACbP,SAAS,CAAC,6DAA6D,CACvEE,OAAO,CAAEjB,OAAQ,CAAAK,QAAA,cAEjBb,IAAA,QACEuB,SAAS,CAAC,2BAA2B,CACrCQ,GAAG,CAAEjC,SAAU,CACfkC,GAAG,CAAC,iFAAgB,EACpB,EACK,GACL,EACF,CAEV,CAEA,cAAe,CAAA7B,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}